<ion-content>
  <div class="fixed-header" (click)="pullToTop()">
    <div class="title">
      <div class="left"></div>
      <div class="center">
        {{'BLOCKCHAIN' | translate}}
      </div>
      <div class="right">
        <div class="height">
          <ali-icon name="ifm-resize-height"></ali-icon>{{unconfirm_block?.height}}
        </div>
      </div>
    </div>
    <div class="unconfirm-block">
      <div class="left trans_num">
        <div class="value">{{unconfirm_block?.uncommited}}</div>
        <span class="title"><ali-icon name="ifm-tran"></ali-icon>{{'EXPECED_TRANSACTIONS_AMOUNT' | translate}}</span>
      </div>
      <div class="right reward">
        <div class="value">{{unconfirm_block?.reward|amountEuler|number:'1.8-8'}}</div>
        <span class="title"><ali-icon name="ifm-reward"></ali-icon>{{'EXPECED_INCOME' | translate}}</span>
      </div>
    </div>
    <div class="bg-image">
      <chain-mesh [tint]="unconfirm_block_mesh_thit" [auto-start]="true"></chain-mesh>
    </div>
  </div>
  <div class="list-wrapper">
    <virtual-scroll #vscroll class="block-list" [list-ani]="_is_into_second_page?'linkChain':''" [items]="block_list" (update)="viewPortItems = $event" (change)="onListChange($event)">
      <div *ngFor="let block of viewPortItems;trackBy:blockListTrackByFn" class="block-item" (click)="routeToChainBlockDetail(block)" [attr.data-height]="block.height" [class.fake]="block.fake" [class.latest-block]="block.height==1">
        <div class="header">
          <div class="height">
            <div class="value">{{block.height}}</div>
            <span class="title"><ali-icon name="ifm-resize-height"></ali-icon>{{'HEIGHT' | translate}}</span>
          </div>
          <div class="trans_num">
            <div class="value">{{block.numberOfTransactions}}</div>
            <span class="title"><ali-icon name="ifm-tran"></ali-icon>{{'TRANSACTION_AMOUNT' | translate}}</span>
          </div>
        </div>
        <div class="info">
          <div class="delay" [ngClass]="block.delay?'true':''">
            <ali-icon name="ifm-chain-tran-error"></ali-icon>
          </div>
          <div class="total-amount">
            <span class="title"><ali-icon name="ifm-coins"></ali-icon>{{'TOTALAMOUNT' | translate}}</span>
            <div class="value">{{block.totalAmount|amountEuler|number:'1.8-8'}}</div>
          </div>
          <div class="fee">
            <span class="title"><ali-icon name="ifm-wallet"></ali-icon>{{'FEE' | translate}}</span>
            <div class="value">{{block.totalFee|amountEuler|number:'1.8-8'}}</div>
          </div>
        </div>
        <div class="footer">
          {{'CHECK_BLOCK' | translate}}
          <ali-icon name="ifm-chain-right-arrow"></ali-icon>
        </div>
        <div class="chain-container">
          <div class="left chain"></div>
          <div class="right chain"></div>
        </div>
      </div>
    </virtual-scroll>
  </div>
</ion-content>
