<ion-header></ion-header>
<ion-content>
  <div class="transfer-receipt" #transferReceiptEle>
    <div class="header">
      <div class="buttons">
        <button class="share" (click)="share()">
          <ali-icon name="ifm-share1"></ali-icon>
        </button>
      </div>
      <div class="title">{{'TRANSFER'|translate}}</div>
      <div class="amount">{{current_transfer?.amount|amountEuler|number:'1.8-8'}}</div>
      <div class="recipient">
        <span class="label">{{'TRANSCATION_RECIPIENT'|translate}}</span>
        <span [click-to-copy]="current_transfer?.recipientId" [copy-success-toast]="'#INFO#_COPY_SUCCESS'|translate:{info:('TRANSCATION_RECIPIENT'|translate)}">{{current_transfer?.recipientId}}</span>
      </div>
      <div class="create-time">
        <ali-icon name="ifm-clock"></ali-icon>
        {{current_transfer?.dateCreated|amDateFormat:"YYYY-MM-DD HH:mm:ss"}}
      </div>
    </div>
    <div class="detail">
      <common-wave-bg class="bg" [wave2-opacity]="0.5" wave2-color="#FFF" [wave3-opacity]="0.3" wave3-color="#FFF"></common-wave-bg>
      <div class="chapter">
        <img src="assets/imgs/pay-transfer-receipt/ç« .png" alt="chapter">
      </div>
      <div class="common-list">
        <div class="sender common-item">
          <div class="left">
            {{'PAYER' | translate}}
          </div>
          <div class="content" [click-to-copy]="current_transfer?.senderId" [copy-success-toast]="'#INFO#_COPY_SUCCESS'|translate:{info:('PAYER'|translate)}">{{current_transfer?.senderId}}</div>
        </div>
        <div class="fee common-item">
          <div class="left">
            {{'FEE' | translate}}
          </div>
          <div class="content">{{current_transfer?.fee|amountEuler|number:'1.8-8'}}</div>
        </div>
        <div class="transaction-number common-item" [click-to-copy]="current_transfer?.id" [copy-success-toast]="'#INFO#_COPY_SUCCESS'|translate:{info:('TRANSACTION_ID'|translate)}">
          <div class="left">
            {{'TRANSACTION_ID' | translate}}
          </div>
          <div class="content">{{current_transfer?.id}}</div>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="progress">
        <div class="time-point submitted-time">
          <div class="dot light"></div>
          <div class="time">{{current_transfer?.dateCreated|amDateFormat:"hh:mm"}}</div>
          <div class="status">{{'SUBMITTED_TIME'|translate}}</div>
          <svg class="progress-line" width="50vw" height="1" version="1.1" xmlns="http://www.w3.org/2000/svg">
              <line stroke-dasharray="1, 5" x1="0" y1="1" x2="50vw" y2="1" style="stroke: #4adae6; stroke-width: 1px;">
                  <animate attributeName="x1" from="-5vw" to="0" begin="0s" dur="3s" repeatCount="indefinite" />
                  <animate attributeName="x2" from="50vw" to="55vw" begin="0s" dur="3s" repeatCount="indefinite" />
              </line>
          </svg>
        </div>
        <div class="time-point expected-confirmation-time">
          <ng-container *ngIf="current_transfer?.blockId">
            <div class="dot light"></div>
            <div class="time">{{confirmed_timestamp|timestamp:"timezone"|amDateFormat:"hh:mm"}}</div>
            <div class="status">{{'CONFIRMED_TIME'|translate}}</div>
          </ng-container>
          <ng-container *ngIf="!current_transfer?.blockId">
            <div class="dot"></div>
            <div class="time">{{expected_confirmation_time|amDateFormat:"hh:mm"}}</div>
            <div class="status">{{'EXPECTED_CONFIRMATION_TIME'|translate}}</div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
  <div class="footer-buttons">
    <button class="close-button animated bounceIn" (click)="closeModal()">
      <ali-icon name="ifm-guanbi"></ali-icon>
    </button>
  </div>
</ion-content>
